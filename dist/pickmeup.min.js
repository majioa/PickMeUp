/*
 Copyright (c) 2013-2017, Nazar Mokrynskyi
 @copyright Copyright (c) 2008-2009, Stefan Petre
 @license   MIT License, see license.txt
*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,r,n){e!=Array.prototype&&e!=Object.prototype&&(e[r]=n.value)};$jscomp.getGlobal=function(e){return"undefined"!=typeof window&&window===e?e:"undefined"!=typeof global&&null!=global?global:e};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(e,r,n,l){if(r){n=$jscomp.global;e=e.split(".");for(l=0;l<e.length-1;l++){var g=e[l];g in n||(n[g]={});n=n[g]}e=e[e.length-1];l=n[e];r=r(l);r!=l&&null!=r&&$jscomp.defineProperty(n,e,{configurable:!0,writable:!0,value:r})}};$jscomp.polyfill("Array.prototype.fill",function(e){return e?e:function(e,n,l){var g=this.length||0;0>n&&(n=Math.max(0,g+n));if(null==l||l>g)l=g;l=Number(l);0>l&&(l=Math.max(0,g+l));for(n=Number(n||0);n<l;n++)this[n]=e;return this}},"es6","es3");
(function(e,r){"function"===typeof define&&define.amd?define(r):"object"===typeof exports?module.exports=r():e.pickmeup=r()})(this,function(){function e(a,b,c){c=c||[];if(a instanceof Element)b.apply(b,[a].concat(c));else{var d;var p=a.length;for(d=0;d<p;++d)b.apply(b,[a[d]].concat(c))}}function r(a){e(a,function(a){a.parentElement.removeChild(a)})}function n(a,b){do a=a.parentElement;while(a&&!l(a,b));return a}function l(a,b){return(a.matches||a.webkitMatchesSelector||a.msMatchesSelector).call(a,
b)}function g(a,b){return a&&a.classList.contains(b)}function m(a,b){a.classList.add(b)}function u(a,b,c,d){if(-1!==c.indexOf(" ")){c=c.split(" ");var p=c.length,k;for(k=0;k<p;++k)u(a,b,c[k],d)}else a.__pickmeup.events.push([b,c,d]),b.addEventListener(c,d)}function x(a,b,c,d){var p;if(c&&-1!==c.indexOf(" ")){var k=c.split(" ");var g=k.length;for(p=0;p<g;++p)x(a,b,k[p],d)}else for(k=a.__pickmeup.events,g=k.length,p=0;p<g;++p)b&&b!=k[p][0]||c&&c!=k[p][1]||d&&d!=k[p][2]||k[p][0].removeEventListener(k[p][1],
k[p][2])}function J(a){a=a.getBoundingClientRect();return{top:a.top+window.pageYOffset-document.documentElement.clientTop,left:a.left+window.pageXOffset-document.documentElement.clientLeft}}function A(a,b,c){var d=document.createEvent("Event");c&&(d.detail=c);d.initEvent("pickmeup-"+b,!1,!0);return a.dispatchEvent(d)}function H(a){a=new Date(a);for(var b=28,c=a.getMonth();a.getMonth()==c;)++b,a.setDate(b);return b-1}function y(a,b){a.setDate(a.getDate()+b)}function q(a,b){var c=a.getDate();a.setDate(1);
a.setMonth(a.getMonth()+b);a.setDate(Math.min(c,H(a)))}function w(a,b){var c=a.getDate();a.setDate(1);a.setFullYear(a.getFullYear()+b);a.setDate(Math.min(c,H(a)))}function K(a){var b=a.__pickmeup.element,c=a.__pickmeup.options,d=Math.floor(c.calendars/2),p=c.date,k=c.current,e=c.min?new Date(c.min):null,l=c.max?new Date(c.max):null;e&&(e.setDate(1),q(e,1),y(e,-1));l&&(l.setDate(1),q(l,1),y(l,-1));r(Array.prototype.slice.call(b.querySelectorAll(".pmu-instance \x3e :not(nav)")));for(var n=0;n<c.calendars;n++){var f=
new Date(k);z(f);var C=Array.prototype.slice.call(b.querySelectorAll(".pmu-instance"))[n];if(g(b,"pmu-view-years")){w(f,12*(n-d));var E=f.getFullYear()-6+" - "+(f.getFullYear()+5)}else g(b,"pmu-view-months")?(w(f,n-d),E=f.getFullYear()):g(b,"pmu-view-days")&&(q(f,n-d),E=B(f,c.title_format,c.locales[c.locale]));if(!t&&l){var t=new Date(f);c.select_day?q(t,c.calendars-1):c.select_month?w(t,c.calendars-1):w(t,12*(c.calendars-1));if(t>l){--n;q(k,-1);t=void 0;continue}}t=new Date(f);if(!h){var h=new Date(f);
h.setDate(1);q(h,1);y(h,-1);if(e&&e>h){--n;q(k,1);h=void 0;continue}}C.querySelector(".pmu-month").textContent=E;var u=function(a){return"range"==c.mode&&a>=(new Date(p[0])).getFullYear()&&a<=(new Date(p[1])).getFullYear()||"multiple"==c.mode&&-1!==p.reduce(function(a,c){a.push((new Date(c)).getFullYear());return a},[]).indexOf(a)||(new Date(p)).getFullYear()==a},v=function(a,b){var d=(new Date(p[0])).getFullYear(),f=(new Date(p[1])).getFullYear(),k=(new Date(p[0])).getMonth(),h=(new Date(p[1])).getMonth();
return"range"==c.mode&&(a>d&&a<f||a>d&&a==f&&b<=h||a==d&&a<f&&b>=k||a==d&&a==f&&b>=k&&b<=h)||"multiple"==c.mode&&-1!==p.reduce(function(a,c){c=new Date(c);a.push(c.getFullYear()+"-"+c.getMonth());return a},[]).indexOf(a+"-"+b)||(new Date(p)).getFullYear()==a&&(new Date(p)).getMonth()==b};(function(){var a=[],b=f.getFullYear()-6,d=(new Date(c.min)).getFullYear(),p=(new Date(c.max)).getFullYear(),k;for(k=0;12>k;++k){var h=b+k;var e=document.createElement("div");e.textContent=h;e.__pickmeup_year=h;c.min&&
h<d||c.max&&h>p?m(e,"pmu-disabled"):u(h)&&m(e,"pmu-selected");a.push(e)}C.appendChild(c.instance_content_template(a,"pmu-years"))})();(function(){var a=[],b=f.getFullYear(),d=(new Date(c.min)).getFullYear(),p=(new Date(c.min)).getMonth(),h=(new Date(c.max)).getFullYear(),k=(new Date(c.max)).getMonth(),e;for(e=0;12>e;++e){var g=document.createElement("div");g.textContent=c.locales[c.locale].monthsShort[e];g.__pickmeup_month=e;g.__pickmeup_year=b;c.min&&(b<d||e<p&&b==d)||c.max&&(b>h||e>k&&b>=h)?m(g,
"pmu-disabled"):v(b,e)&&m(g,"pmu-selected");a.push(g)}C.appendChild(c.instance_content_template(a,"pmu-months"))})();(function(){var a=[],b=f.getMonth(),d=new Date;c.today_offset&&d.setTime(d.getTime()+c.today_offset);var p=z(d).valueOf();(function(){f.setDate(1);var a=(f.getDay()-c.first_day)%7;y(f,-(a+(0>a?7:0)))})();for(d=0;42>d;++d){var e=document.createElement("div");e.textContent=f.getDate();e.__pickmeup_day=f.getDate();e.__pickmeup_month=f.getMonth();e.__pickmeup_year=f.getFullYear();b!=f.getMonth()&&
m(e,"pmu-not-in-month");0==f.getDay()?m(e,"pmu-sunday"):6==f.getDay()&&m(e,"pmu-saturday");var h=c.render(new Date(f))||{};var k=f.valueOf();var g=c.min&&c.min>f||c.max&&c.max<f;selected=c.date.valueOf()==k||c.date instanceof Array&&c.date.reduce(function(a,b){return a||k===b.valueOf()},!1)||"range"==c.mode&&k>=c.date[0]&&k<=c.date[1];h.disabled||!("disabled"in h)&&g?m(e,"pmu-disabled"):(h.selected||!("selected"in h)&&selected)&&m(e,"pmu-selected");k==p&&m(e,"pmu-today");h.class_name&&h.class_name.split(" ").forEach(m.bind(e,
e));a.push(e);y(f,1)}C.appendChild(c.instance_content_template(a,"pmu-days"))})()}h.setDate(1);t.setDate(1);q(t,1);y(t,-1);d=b.querySelector(".pmu-prev");b=b.querySelector(".pmu-next");d&&(d.style.visibility=c.min&&c.min>=h?"hidden":"visible");b&&(b.style.visibility=c.max&&c.max<=t?"hidden":"visible");A(a,"fill")}function v(a,b){var c=b.format,d=b.separator,e=b.locales[b.locale];if(a instanceof Date||a instanceof Number)return z(new Date(a));if(!a)return z(new Date);if(a instanceof Array){a=a.slice();
for(c=0;c<a.length;++c)a[c]=v(a[c],b);return a}d=a.split(d);if(1<d.length)return d.forEach(function(a,c,d){d[c]=v(a.trim(),b)}),d;d=e.monthsShort.join(")(")+")("+e.months.join(")(");d=new RegExp("[^0-9a-zA-Z("+d+")]+");a=a.split(d);d=c.split(d);var k=new Date;for(c=0;c<a.length;c++)switch(d[c]){case "b":var g=e.monthsShort.indexOf(a[c]);break;case "B":g=e.months.indexOf(a[c]);break;case "d":case "e":var n=parseInt(a[c],10);break;case "m":g=parseInt(a[c],10)-1;break;case "Y":case "y":var l=parseInt(a[c],
10);l+=100<l?0:29>l?2E3:1900;break;case "H":case "I":case "k":case "l":var f=parseInt(a[c],10);break;case "P":case "p":/pm/i.test(a[c])&&12>f?f+=12:/am/i.test(a[c])&&12<=f&&(f-=12);break;case "M":var m=parseInt(a[c],10)}e=new Date(void 0===l?k.getFullYear():l,void 0===g?k.getMonth():g,void 0===n?k.getDate():n,void 0===f?k.getHours():f,void 0===m?k.getMinutes():m,0);isNaN(1*e)&&(e=new Date);return z(e)}function z(a){a.setHours(0,0,0,0);return a}function B(a,b,c){var d=a.getMonth(),e=a.getDate(),k=
a.getFullYear(),g=a.getDay(),l=a.getHours(),n=12<=l,f=n?l-12:l;var m=new Date(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0);var r=new Date(a.getFullYear(),0,0,0,0,0);m=Math.floor((m-r)/24*36E5);0==f&&(f=12);r=a.getMinutes();var t=a.getSeconds();b=b.split("");for(var h,q=0;q<b.length;q++){h=b[q];switch(h){case "a":h=c.daysShort[g];break;case "A":h=c.days[g];break;case "b":h=c.monthsShort[d];break;case "B":h=c.months[d];break;case "C":h=1+Math.floor(k/100);break;case "d":h=10>e?"0"+e:e;break;case "e":h=
e;break;case "H":h=10>l?"0"+l:l;break;case "I":h=10>f?"0"+f:f;break;case "j":h=100>m?10>m?"00"+m:"0"+m:m;break;case "k":h=l;break;case "l":h=f;break;case "m":h=9>d?"0"+(1+d):1+d;break;case "M":h=10>r?"0"+r:r;break;case "p":case "P":h=n?"PM":"AM";break;case "s":h=Math.floor(a.getTime()/1E3);break;case "S":h=10>t?"0"+t:t;break;case "u":h=g+1;break;case "w":h=g;break;case "y":h=(""+k).substr(2,2);break;case "Y":h=k}b[q]=h}return b.join("")}function L(a,b){var c=a.__pickmeup.options,d;z(b);a:switch(c.mode){case "multiple":var e=
b.valueOf();for(d=0;d<c.date.length;++d)if(c.date[d].valueOf()===e){c.date.splice(d,1);break a}c.date.push(b);break;case "range":c.lastSel||(c.date[0]=b);b<=c.date[0]?(c.date[1]=c.date[0],c.date[0]=b):c.date[1]=b;c.lastSel=!c.lastSel;break;default:c.date=b.valueOf()}b=F(c);l(a,"input")&&(a.value="single"==c.mode?b.formatted_date:b.formatted_date.join(c.separator));A(a,"change",b);c.flat||!c.hide_on_select||"range"==c.mode&&c.lastSel||c.bound.hide()}function M(a,b){var c=b.target;g(c,"pmu-button")||
(c=n(c,".pmu-button"));if(!g(c,"pmu-button")||g(c,"pmu-disabled"))return!1;b.preventDefault();b.stopPropagation();a=a.__pickmeup.options;var d=n(c,".pmu-instance");b=d.parentElement;d=Array.prototype.slice.call(b.querySelectorAll(".pmu-instance")).indexOf(d);l(c.parentElement,"nav")?g(c,"pmu-month")?(q(a.current,d-Math.floor(a.calendars/2)),g(b,"pmu-view-years")?(a.current="single"!=a.mode?new Date(a.date[a.date.length-1]):new Date(a.date),a.select_day?(b.classList.remove("pmu-view-years"),m(b,"pmu-view-days")):
a.select_month&&(b.classList.remove("pmu-view-years"),m(b,"pmu-view-months"))):g(b,"pmu-view-months")?a.select_year?(b.classList.remove("pmu-view-months"),m(b,"pmu-view-years")):a.select_day&&(b.classList.remove("pmu-view-months"),m(b,"pmu-view-days")):g(b,"pmu-view-days")&&(a.select_month?(b.classList.remove("pmu-view-days"),m(b,"pmu-view-months")):a.select_year&&(b.classList.remove("pmu-view-days"),m(b,"pmu-view-years")))):g(c,"pmu-prev")?a.bound.prev(!1):a.bound.next(!1):g(b,"pmu-view-years")?
(a.current.setFullYear(c.__pickmeup_year),a.select_month?(b.classList.remove("pmu-view-years"),m(b,"pmu-view-months")):a.select_day?(b.classList.remove("pmu-view-years"),m(b,"pmu-view-days")):a.bound.update_date(a.current)):g(b,"pmu-view-months")?(a.current.setMonth(c.__pickmeup_month),a.current.setFullYear(c.__pickmeup_year),a.select_day?(b.classList.remove("pmu-view-months"),m(b,"pmu-view-days")):a.bound.update_date(a.current),q(a.current,Math.floor(a.calendars/2)-d)):(b=new Date(a.current),b.setYear(c.__pickmeup_year),
b.setMonth(c.__pickmeup_month),b.setDate(c.__pickmeup_day),a.bound.update_date(b));a.bound.fill();return!0}function F(a){if("single"==a.mode){var b=new Date(a.date);return{formatted_date:B(b,a.format,a.locales[a.locale]),date:b}}b={formatted_date:[],date:[]};a.date.forEach(function(c){c=new Date(c);b.formatted_date.push(B(c,a.format,a.locales[a.locale]));b.date.push(c)});return b}function G(a,b){var c=a.__pickmeup.element;if(b||g(c,"pmu-hidden")){var d=a.__pickmeup.options,e=J(a),k=window.pageXOffset,
m=window.pageYOffset,n=document.documentElement.clientWidth,r=document.documentElement.clientHeight,f=e.top,q=e.left;d.bound.fill();l(a,"input")&&((b=a.value)&&d.bound.set_date(b),u(a,a,"keydown",function(a){9==a.which&&d.bound.hide()}),d.lastSel=!1);if(A(a,"show")&&!d.flat){switch(d.position){case "top":f-=c.offsetHeight;break;case "left":q-=c.offsetWidth;break;case "right":q+=a.offsetWidth;break;case "bottom":f+=a.offsetHeight}f+c.offsetHeight>m+r&&(f=e.top-c.offsetHeight);f<m&&(f=e.top+a.offsetHeight);
q+c.offsetWidth>k+n&&(q=e.left-c.offsetWidth);q<k&&(q=e.left+a.offsetWidth);c.style.top=f+"px";c.style.left=q+"px";c.classList.remove("pmu-hidden");setTimeout(function(){u(a,document.documentElement,"click",d.bound.hide);u(a,window,"resize",d.bound.forced_show)})}}}function N(a,b){var c=a.__pickmeup.element,d=a.__pickmeup.options;b&&b.target&&(b.target==a||c.compareDocumentPosition(b.target)&16)||!A(a,"hide")||(m(c,"pmu-hidden"),x(a,document.documentElement,"click",d.bound.hide),x(a,window,"resize",
d.bound.forced_show),d.lastSel=!1)}function O(a){var b=a.__pickmeup.options;x(a,document.documentElement,"click",b.bound.hide);x(a,window,"resize",b.bound.forced_show);b.bound.forced_show()}function P(a){a=a.__pickmeup.options;"single"!=a.mode&&(a.date=[],a.lastSel=!1,a.bound.fill())}function Q(a,b){"undefined"==typeof b&&(b=!0);var c=a.__pickmeup.element;a=a.__pickmeup.options;g(c,"pmu-view-years")?w(a.current,-12):g(c,"pmu-view-months")?w(a.current,-1):g(c,"pmu-view-days")&&q(a.current,-1);b&&a.bound.fill()}
function R(a,b){"undefined"==typeof b&&(b=!0);var c=a.__pickmeup.element;a=a.__pickmeup.options;g(c,"pmu-view-years")?w(a.current,12):g(c,"pmu-view-months")?w(a.current,1):g(c,"pmu-view-days")&&q(a.current,1);b&&a.bound.fill()}function S(a,b){var c=a.__pickmeup.options;a=F(c);return"string"===typeof b?(a=a.date,a instanceof Date?B(a,b,c.locales[c.locale]):a.map(function(a){return B(a,b,c.locales[c.locale])})):a[b?"formatted_date":"date"]}function T(a,b,c){var d=a.__pickmeup.options;if(!(b instanceof
Array)||0<b.length)if(d.date=v(b,d),"single"!=d.mode)for(d.date instanceof Array?(d.date[0]=d.date[0]||v(new Date,d),"range"==d.mode&&(d.date[1]=d.date[1]||v(d.date[0],d))):(d.date=[d.date],"range"==d.mode&&d.date.push(v(d.date[0],d))),b=0;b<d.date.length;++b)d.date[b]=I(d.date[b],d.min,d.max);else d.date instanceof Array&&(d.date=d.date[0]),d.date=I(d.date,d.min,d.max);else d.date=[];if(!d.select_day)if(d.date instanceof Array)for(b=0;b<d.date.length;++b)d.date[b].setDate(1);else d.date.setDate(1);
if("multiple"==d.mode)for(b=0;b<d.date.length;++b)d.date.indexOf(d.date[b])!==b&&(d.date.splice(b,1),--b);c?d.current=v(c,d):(c="single"===d.mode?d.date:d.date[d.date.length-1],d.current=c?new Date(c):new Date);d.current.setDate(1);d.bound.fill();l(a,"input")&&!1!==d.default_date&&(c=F(d),b=a.value,d="single"==d.mode?c.formatted_date:c.formatted_date.join(d.separator),b||A(a,"change",c),b!=d&&(a.value=d))}function U(a){var b=a.__pickmeup.element;x(a);r(b);delete a.__pickmeup}function I(a,b,c){return b&&
b>a?new Date(b):c&&c<a?new Date(c):a}function D(a,b){"string"==typeof a&&(a=document.querySelector(a));if(!a)return null;if(!a.__pickmeup){var c;var d={};b=b||{};for(c in D.defaults)d[c]=c in b?b[c]:D.defaults[c];for(c in d)b=a.getAttribute("data-pmu-"+c),null!==b&&(d[c]=b);"days"!=d.view||d.select_day||(d.view="months");"months"!=d.view||d.select_month||(d.view="years");"years"!=d.view||d.select_year||(d.view="days");"days"!=d.view||d.select_day||(d.view="months");d.calendars=Math.max(1,parseInt(d.calendars,
10)||1);d.mode=/single|multiple|range/.test(d.mode)?d.mode:"single";d.min&&(d.min=v(d.min,d),d.select_day||d.min.setDate(1));d.max&&(d.max=v(d.max,d),d.select_day||d.max.setDate(1));b=document.createElement("div");a.__pickmeup={options:d,events:[],element:b};b.__pickmeup_target=a;m(b,"pickmeup");d.class_name&&m(b,d.class_name);d.bound={fill:K.bind(a,a),update_date:L.bind(a,a),click:M.bind(a,a),show:G.bind(a,a),forced_show:G.bind(a,a,!0),hide:N.bind(a,a),update:O.bind(a,a),clear:P.bind(a,a),prev:Q.bind(a,
a),next:R.bind(a,a),get_date:S.bind(a,a),set_date:T.bind(a,a),destroy:U.bind(a,a)};m(b,"pmu-view-"+d.view);var e=d.instance_template(d),g="";for(c=0;c<d.calendars;++c)g+=e;b.innerHTML=g;u(a,b,"click",d.bound.click);u(a,b,"onselectstart"in Element.prototype?"selectstart":"mousedown",function(a){a.preventDefault()});d.flat?(m(b,"pmu-flat"),a.appendChild(b)):(m(b,"pmu-hidden"),document.body.appendChild(b),u(a,a,"click",G.bind(a,a,!1)),u(a,a,"input",d.bound.update),u(a,a,"change",d.bound.update));d.bound.set_date(d.date,
d.current)}d=a.__pickmeup.options;return{hide:d.bound.hide,show:d.bound.show,clear:d.bound.clear,update:d.bound.update,prev:d.bound.prev,next:d.bound.next,get_date:d.bound.get_date,set_date:d.bound.set_date,destroy:d.bound.destroy}}D.defaults={current:null,date:new Date,default_date:new Date,flat:!1,first_day:1,prev:"\x26#9664;",next:"\x26#9654;",mode:"single",select_year:!0,select_month:!0,select_day:!0,view:"days",calendars:1,format:"d-m-Y",title_format:"B, Y",position:"bottom",class_name:"",separator:" - ",
hide_on_select:!1,min:null,max:null,today_offset:null,render:function(){},locale:"en",locales:{en:{days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),daysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),daysMin:"Su Mo Tu We Th Fr Sa".split(" "),months:"January February March April May June July August September October November December".split(" "),monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")}},instance_template:function(a){var b=a.locales[a.locale].daysMin.slice();
a.first_day&&b.push(b.shift());return'\x3cdiv class\x3d"pmu-instance"\x3e\x3cnav\x3e\x3cdiv class\x3d"pmu-prev pmu-button"\x3e'+a.prev+'\x3c/div\x3e\x3cdiv class\x3d"pmu-month pmu-button"\x3e\x3c/div\x3e\x3cdiv class\x3d"pmu-next pmu-button"\x3e'+a.next+'\x3c/div\x3e\x3c/nav\x3e\x3cnav class\x3d"pmu-day-of-week"\x3e\x3cdiv\x3e'+b.join("\x3c/div\x3e\x3cdiv\x3e")+"\x3c/div\x3e\x3c/nav\x3e\x3c/div\x3e"},instance_content_template:function(a,b){var c=document.createElement("div");m(c,b);for(b=0;b<a.length;++b)m(a[b],
"pmu-button"),c.appendChild(a[b]);return c}};return D});
